---
description: APIs for fetching solar power generation history
---

# Solar power generation endpoints

There are three API endpoints for retreiving the amount of energy generated by Tesla solar panels:

| Endpoint            | Description                                                    |
| :------------------ | :------------------------------------------------------------- |
| `history`           | Returns statistics for the previous day, week, month, or year. |
| `calendar_history`  | Returns statistics for a selected period in the past.          |
| `telemetry_history` | No information available.                                      |

The statistics can either be instantaneous power generation in watts at 15 minute intervals for a day, or cumulative energy in kWh generated in a day, week, month, or year. Depending on your equipment, some statistics may be unsupported and always return 0.  

All APIs have the same URL parameter `site_id`, so a description of that parameter is not repeated in the API details below.  The `site_id` identifies your solar installation. See the README.md file in this folder for information on how to obtain your `site_id`.

All request parameters listed below are required; there are no default values.

The format for the `end_date` parameter value is "yyyy-mm-ddThh:mm:ss-hh:mm".  Specify your local time zone offset for best clarity.  Universal time is accepted in the "yyyy-mm-ddThh:mm:ssZ" format, but the time is converted to your local time zone, which could also change the date.

The example responses below are pretty-printed for easier readability.  The actual responses are sent as a compact single line, with no spaces, tabs, or newlines.



## GET `/api/1/energy_sites/{site_id}/history?kind=power`

Retrieve the most recent power generation statistics, in watts, recorded at 15 minute intervals.

### Request parameters

| Field   | Value   | Description                                           |
| :------ | :------ | :---------------------------------------------------- |
| `kind`  | `power` | The value "power" selects power statistics, in watts. |

### Response

```
{
  "response":
    {
      "serial_number": "313dbc37-555c-45b1-83aa-62a4ef9ff7ac",
      "time_series": 
        [
          {
            "timestamp": "2022-05-13T00:00:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          {
            "timestamp": "2022-05-13T00:15:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          ...
          {
            "timestamp": "2022-05-14T11:45:00-07",
            "solar_power": 2200,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          }
        ]
    }
}
```

The `solar_power` field is the power being generated, in watts, at the given timestamp. The time series includes a sample every 15 minutes, starting at the beginning (midnight) of the previous day and ending at the current time and day.  The statistics cover 24 - 48 hours, depending on when the request is made. Depending on your equipment, nighttime samples may be omitted if they are all zeroes.



## GET `/api/1/energy_sites/{site_id}/history?kind=energy&period={period_keyword}`

Retrieve the most recent energy generation statistics, in kWh, for the period specified.

### Request parameters

| Field    | Value                             | Description                                           |
| :------- | :-------------------------------- | :---------------------------------------------------- |
| `kind`   | `energy`                          | The value "energy" selects energy statistics, in kWh. |
| `period` | `day`, `week`, `month`, or `year` | The time span for statistics to cover.                |

| `period` value | Statistics returned                                                        |
| :------------- | :------------------------------------------------------------------------- |
| `day`          | Total kWh for yesterday, and for today up to the current time.             |
| `week`         | Total kWh for each of the past 7 days, not including today.                |
| `month`        | Total kWh for each of the past 4 weeks, not including the current week.<br>Weeks are Sunday to Saturday; timestamps are for Saturdays. 
| `year`         | Total kWh for each of the past 12 months, not including the current month. |


### Response

```
{
  "response":
    {
      "serial_number": "313dbc37-555c-45b1-83aa-62a4ef9ff7ac",
      "period": "week",
      "time_series":
        [
          {
            "timestamp": "2022-05-09T06:15:00-07:00",
            "solar_energy_exported": 18630,
            "generator_energy_exported": 0,
            "grid_energy_imported": 0,
            "grid_services_energy_imported": 0,
            "grid_services_energy_exported": 0,
            "grid_energy_exported_from_solar": 0,
            "grid_energy_exported_from_generator": 0,
            "grid_energy_exported_from_battery": 0,
            "battery_energy_exported": 0,
            "battery_energy_imported_from_grid": 0,
            "battery_energy_imported_from_solar": 0,
            "battery_energy_imported_from_generator": 0,
            "consumer_energy_imported_from_grid": 0,
            "consumer_energy_imported_from_solar": 0,
            "consumer_energy_imported_from_battery": 0,
            "consumer_energy_imported_from_generator": 0
          },
          ...
        ]
    }
}
```

`solar_energy_exported` is the energy generated by the solar panels, in kWh.  To save space only one entry in the `time_series` array is shown.  In an actual response there are multiple entries.  For `period=week`, there are actually 7 entries, each one representing the energy generated for one day.



## GET `/api/1/energy_sites/{site_id}/calendar_history?kind=power&end_date={date_and_time}`

Retrieve the power generation statistics, in watts, recorded at 15 minute intervals, starting at midnight of the specified date and ending at the specified time.  To retrieve a full day's records, specify an ending time after sunset, or 23:45:00.  Don't use 00:00:00 for the time, or you'll retrieve an empty list.


### Request parameters

| Field      | Value                     | Description                                                     |
| :--------- | :------------------------ | :-------------------------------------------------------------- |
| `kind`     | `power`                   | The value "power" selects power statistics, in watts.           | 
| `end_date` | yyyy-mm-ddThh:mm:ss-hh:mm | Specifies the day for which the power statistics are retrieved.<br>Example: `2022-04-29T14:15:00-07:00` |

### Response

```
{
  "response":
    {
      "serial_number": "313dbc37-555c-45b1-83aa-62a4ef9ff7ac",
      "time_zone_offset": -420,
      "time_series": 
        [
          {
            "timestamp": "2022-04-29T00:00:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          {
            "timestamp": "2022-04-29T00:15:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          ...
          {
            "timestamp": "2022-04-29T14:15:00-07:00",
            "solar_power": 2600,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          }
        ]
    }
}
```


