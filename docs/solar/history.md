---
description: APIs for fetching solar power generation history
---

# Solar power generation endpoints

There are three API endpoints for retreiving the amount of energy generated by Tesla solar panels:

| Endpoint            | Description                                                    |
| :------------------ | :------------------------------------------------------------- |
| `history`           | Returns statistics for the previous day, week, month, or year. |
| `calendar_history`  | Returns statistics for a selected period in the past.          |
| `telemetry_history' | No information available.                                      |

The statistics can either be instantaneous power generation in watts at 15 minute intervals for a day, or cumulative energy in kWh generated in a day, week, month, or year. Depending on your equipment, some statistics may be unsupported and always return 0.  

All APIs have the same URL parameter `site_id`, so a description of that parameter is not repeated in the API details below.  The `site_id` identifies your solar installation. See the README.md file in this folder for information on how to obtain your `site_id`.


## GET `/api/1/energy_sites/{site_id}/history?kind=power`

Retrieve the most recent power generation statistics, in watts, recorded at 15 minute intervals.

### Request parameters

| Field   | Value   | Description                                           |
| :------ | :------ | :---------------------------------------------------- |
| `kind`  | `power` | The value "power" selects power statistics, in watts. |

### Response

```
{
  "response":
    {
      "serial_number": "313dbc37-555c-45b1-83aa-62a4ef9ff7ac",
      "time_series": 
        [
          {
            "timestamp": "2022-05-13T00:00:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          {
            "timestamp": "2022-05-13T00:15:00-07:00",
            "solar_power": 0,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          },
          ...
          {
            "timestamp": "2022-05-14T11:45:00-07",
            "solar_power": 2200,
            "battery_power": 0,
            "grid_power": 0,
            "grid_services_power": 0,
            "generator_power": 0
          }
        ]
    }
}
```

The `solar_power` field is the power being generated, in watts, at the given timestamp. The time series includes a sample every 15 minutes, starting at the beginning (midnight) of the previous day and ending at the current time and day.  The statistics cover 24 - 48 hours, depending on when the request is made. Depending on your equipment, nighttime samples may be omitted if they are all zeroes.


## GET `/api/1/energy_sites/{site_id}/history?kind=power`

These resources are read-only and determine the state of the vehicle's various sub-systems.

### URL parameters

| Field | Example             | Description                                  |
| :---- | :------------------ | :------------------------------------------- |
| `id`  | `12345678901234567` | The `id` of the car. (Not the `vehicle_id`!) |

### Response

```json
{
  "response": {
    "id": 12345678901234567,
    "vehicle_id": 1234567890,
    "vin": "5YJSA11111111111",
    "display_name": "Nikola 2.0",
    "option_codes": "MDLS,RENA,AF02,APF1,APH2,APPB,AU01,BC0R,BP00,BR00,BS00,CDM0,CH05,PBCW,CW00,DCF0,DRLH,DSH7,DV4W,FG02,FR04,HP00,IDBA,IX01,LP01,ME02,MI01,PF01,PI01,PK00,PS01,PX00,PX4D,QTVB,RFP2,SC01,SP00,SR01,SU01,TM00,TP03,TR00,UTAB,WTAS,X001,X003,X007,X011,X013,X021,X024,X027,X028,X031,X037,X040,X044,YFFC,COUS",
    "color": null,
    "tokens": ["abcdef1234567890", "1234567890abcdef"],
    "state": "online",
    "in_service": false,
    "id_s": "12345678901234567",
    "calendar_enabled": true,
    "api_version": 7,
    "backseat_token": null,
    "backseat_token_updated_at": null
  }
}
```
